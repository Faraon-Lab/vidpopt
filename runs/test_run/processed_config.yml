#* Original Properties

start_from_step: 0
shelf_fn: save_state
restart_epoch: 0
restart_iter: 0
lumapi_filepath_local: C:\Program Files\Lumerical\v212\api\python\lumapi.py
lumapi_filepath_hpc: /central/home/ifoo/lumerical/2021a_r22/api/python/lumapi.py
simulator_name: LumericalFDTD
simulator_dimension: 3D
simulator_max_wait_time: 3600
use_autograd: False
convert_existing: False
mesh_spacing_um: 0.15
geometry_spacing_lateral_um: 0.15
device_scale_um: 0.15
use_smooth_blur: False
min_feature_size_um: 0.085
background_index: 1.4
min_device_index: 1.4
max_device_index: 2.2
init_permittivity_0_1_scale: 0.5
binarize_3_levels: False
focal_plane_center_lateral_um: 0
num_vertical_layers: 20
vertical_layer_height_um: 0.18
device_size_lateral_um: 6
device_vertical_minimum_um: 0
objects_above_device: []
num_sidewalls: 0
sidewall_material: etch
sidewall_extend_pml: False
sidewall_extend_focalplane: True
sidewall_thickness_um: 0.085
sidewall_vertical_minimum_um: -0.765
add_infrared: False
lambda_min_um: 0.5
lambda_max_um: 1.1
lambda_min_eval_um: 0.5
lambda_max_eval_um: 1.1
num_bands: 3
num_points_per_band: 15
num_dispersive_ranges: 1
add_pdaf: False
pdaf_angle_phi_degrees: 45
pdaf_angle_theta_degrees: -8
pdaf_adj_src_idx: 0
fdtd_simulation_time_fs: 600
weight_by_individual_wavelength: True
use_gaussian_sources: True
use_airy_approximation: True
f_number: 2.2
airy_correction_factor: 0.84
beam_size_multiplier: 1
source_angle_theta_vacuum_deg: 0
source_angle_phi_deg: 0
xy_phi_rotations: [0, 90]
xy_adjtheta_rotations: [90, 0]
xy_pol_rotations: [0, 90]
xy_names: ['x', 'y']
use_source_aperture: True
num_focal_spots: 4
dispersive_range_to_adjoint_src_map: [[0, 1, 2, 3]]
adjoint_src_to_dispersive_range_map: [0, 0, 0, 0]
enforce_xy_gradient_symmetry: False
weight_by_quadrant_transmission: True
max_epochs: 3
iter_per_epoch: 30
epoch_start_design_change_max: 0.15
epoch_end_design_change_max: 0.05
epoch_start_design_change_min: 0.05
epoch_end_design_change_min: 0
fom_types: ['transmission', 'overall_transmission', 'intensity']
optimization_fom: intensity
reinterpolate_permittivity: True
reinterpolate_permittivity_factor: 2
reinterpolate_type: nearest
border_optimization: False
layer_gradient: False
flip_gradient: False
polarizations_focal_plane_map: [['x', 'y'], ['x', 'y'], ['x', 'y'], ['x', 'y']]
weight_focal_plane_map_performance_weighting: [1.0, 1.0, 1.0, 1.0]
weight_focal_plane_map: [1.0, 1.0, 1.0, 1.0]
do_green_balance: False
polarization_name_to_idx: {'x': 0, 'y': 1, 'z': 2}
desired_peaks_per_band_um: [0.6, 0.8, 1.0]
explicit_band_centering: True
shuffle_green: False
infrared_center_um: 0.94
do_rejection: False
softplus_kappa: 2
evaluate_bordered_extended: False
do_normalize: False
should_fix_layers: False
fixed_layers: [1, 2, 3, 5, 6, 7]
fixed_layers_density: 0
mpi_exe: C:\Program Files (x86)\IntelSWToolsMPI\compilers_and_libraries_2020.4.321\windows\mpi\intel64\bin\mpiexec.exe
solver_exe: C:\Program Files\Lumerical\v212\bin\fdtd-engine-impi.exe
nprocs: 8
optimizer: AdamOptimizer
optimizer_settings: {'step_size': 0.01, 'betas': [0.9, 0.999], 'eps': '1e-8', 'moments': [0.0, 0.0]}
fom_dict: [{'fwd': [0], 'adj': [0], 'freq_idx_opt': 'f_bin_all', 'freq_idx_restricted_opt': []}, {'fwd': [0], 'adj': [2], 'freq_idx_opt': 'f_bin_all', 'freq_idx_restricted_opt': []}]
figures_of_merit: {'fom_0': {'type': 'BayerFilterFoM', 'fwd_srcs': ['forward_src_x'], 'adj_srcs': ['adj_src_0x'], 'fom_monitors': ['focal_monitor_0'], 'grad_monitors': ['design_efield_monitor'], 'polarization': 'TE', 'pos_max_freqs': [], 'neg_min_freqs': [], 'weight': 1.0}, 'fom_1': {'type': 'BayerFilterFoM', 'fwd_srcs': ['forward_src_x'], 'adj_srcs': ['adj_src_1x'], 'fom_monitors': ['focal_monitor_1'], 'grad_monitors': ['design_efield_monitor'], 'polarization': 'TE', 'pos_max_freqs': [], 'neg_min_freqs': [], 'weight': 1.0}, 'fom_2': {'type': 'BayerFilterFoM', 'fwd_srcs': ['forward_src_x'], 'adj_srcs': ['adj_src_2x'], 'fom_monitors': ['focal_monitor_2'], 'grad_monitors': ['design_efield_monitor'], 'polarization': 'TE', 'pos_max_freqs': [], 'neg_min_freqs': [], 'weight': 1.0}, 'fom_3': {'type': 'BayerFilterFoM', 'fwd_srcs': ['forward_src_x'], 'adj_srcs': ['adj_src_3x'], 'fom_monitors': ['focal_monitor_3'], 'grad_monitors': ['design_efield_monitor'], 'polarization': 'TE', 'pos_max_freqs': [], 'neg_min_freqs': [], 'weight': 1.0}}


#
# Derived Properties
#

#* Mesh Properties

min_feature_size_voxels: 0.5666666666666668
blur_half_width_voxels: 0

#* Optical Properties
min_device_permittivity: 1.9599999999999997
max_device_permittivity: 4.840000000000001
focal_length_um: 4.5
focal_plane_center_vertical_um: -4.5

#* Device Properties
vertical_layer_height_voxels: 1
device_size_vertical_um: 3.5999999999999996
device_voxels_lateral: 40
device_voxels_vertical: 24
device_voxels_simulation_mesh_lateral: 41
device_voxels_simulation_mesh_vertical: 26
device_vertical_maximum_um: 3.5999999999999996
device_size_lateral_bordered_um: 6
device_voxels_simulation_mesh_lateral_bordered: 41
border_size_um: 0.75
border_size_voxels: 5
device_voxels_lateral_bordered: 40

#* FDTD Properties

vertical_gap_size_um: 2.25
lateral_gap_size_um: 1.5
fdtd_region_size_vertical_um: 15.0
fdtd_region_size_lateral_um: 9.0
fdtd_region_maximum_vertical_um: 5.85
fdtd_region_minimum_vertical_um: -6.75

#* Surrounding Properties
pec_aperture_thickness_um: 0.44999999999999996
sidewall_x_positions_um: [3.0425, 0, -3.0425, 0]
sidewall_y_positions_um: [0, 3.0425, 0, -3.0425]
sidewall_xspan_positions_um: [0.085, 6.17, 0.085, 6.17]
sidewall_yspan_positions_um: [6.17, 0.085, 6.17, 0.085]

#* Spectral Properties
bandwidth_um: 0.6000000000000001
num_design_frequency_points: 45
num_eval_frequency_points: 270
lambda_values_um: [0.5, 0.5136363636363637, 0.5272727272727272, 0.5409090909090909, 0.5545454545454546, 0.5681818181818182, 0.5818181818181818, 0.5954545454545455, 0.6090909090909091, 0.6227272727272728, 0.6363636363636364, 0.65, 0.6636363636363637, 0.6772727272727272, 0.6909090909090909, 0.7045454545454546, 0.7181818181818183, 0.7318181818181819, 0.7454545454545455, 0.7590909090909091, 0.7727272727272727, 0.7863636363636364, 0.8, 0.8136363636363637, 0.8272727272727274, 0.840909090909091, 0.8545454545454546, 0.8681818181818183, 0.8818181818181818, 0.8954545454545455, 0.9090909090909092, 0.9227272727272728, 0.9363636363636365, 0.9500000000000001, 0.9636363636363637, 0.9772727272727273, 0.990909090909091, 1.0045454545454546, 1.0181818181818183, 1.031818181818182, 1.0454545454545454, 1.059090909090909, 1.0727272727272728, 1.0863636363636364, 1.1]
max_intensity_by_wavelength: [256.0, 242.58751664186698, 230.20214030915582, 218.74161429277595, 208.1160978231658, 198.24639999999997, 189.06250000000003, 180.50230173066836, 172.51058142125194, 165.03809473067287, 158.04081632653063, 151.47928994082838, 145.31807093263276, 139.52524661051305, 134.07202216066483, 128.93236212278873, 124.08267905784328, 119.50156243972066, 115.16954193932183, 111.0688802036645, 107.18339100346023, 103.49827926091749, 99.99999999999999, 96.67613370369212, 93.51527593285833, 90.50693937180421, 87.64146672702579, 84.9099531262849, 82.30417685195025, 79.81653740111828, 77.43999999999998, 75.16804581523452, 72.99462720331792, 70.9141274238227, 68.92132431470273, 67.01135749053543, 65.1796986785624, 63.42212485411845, 61.73469387755101, 60.1137223699276, 58.55576559546314, 57.05759914531488, 55.61620224073542, 54.22874249400395, 52.89256198347106]
dispersive_range_size_um: 0.6000000000000001
dispersive_ranges_um: [[0.5, 1.1]]

#* PDAF Functionality Properties
pdaf_focal_spot_x_um: 1.5
pdaf_focal_spot_y_um: 1.5
pdaf_lambda_min_um: 0.5
pdaf_lambda_max_um: 0.7000000000000001
pdaf_lambda_values_um: [0.5, 0.5045454545454545, 0.509090909090909, 0.5136363636363637, 0.5181818181818182, 0.5227272727272727, 0.5272727272727273, 0.5318181818181819, 0.5363636363636364, 0.5409090909090909, 0.5454545454545454, 0.55, 0.5545454545454546, 0.5590909090909091, 0.5636363636363637, 0.5681818181818182, 0.5727272727272728, 0.5772727272727273, 0.5818181818181818, 0.5863636363636364, 0.5909090909090909, 0.5954545454545455, 0.6000000000000001, 0.6045454545454546, 0.6090909090909091, 0.6136363636363636, 0.6181818181818182, 0.6227272727272728, 0.6272727272727273, 0.6318181818181818, 0.6363636363636365, 0.640909090909091, 0.6454545454545455, 0.65, 0.6545454545454545, 0.6590909090909092, 0.6636363636363637, 0.6681818181818182, 0.6727272727272728, 0.6772727272727274, 0.6818181818181819, 0.6863636363636364, 0.6909090909090909, 0.6954545454545455, 0.7000000000000001]
pdaf_max_intensity_by_wavelength: [256.0, 251.40816492167843, 246.93877551020418, 242.58751664186698, 238.35026161895965, 234.22306238185257, 230.2021403091557, 226.2838775659288, 222.46480896294167, 218.74161429277595, 215.11111111111114, 211.57024793388425, 208.1160978231658, 204.74585233657217, 201.4568158168574, 198.24639999999997, 195.11211892164272, 192.05158410316818, 189.06250000000003, 186.1426596959317, 183.28994082840234, 180.50230173066836, 177.77777777777774, 175.1144779241336, 172.51058142125194, 169.96433470507546, 167.4740484429066, 165.03809473067287, 162.65490443184203, 160.32296464986283, 158.04081632653055, 155.80705195915695, 153.620313429875, 151.47928994082838, 149.3827160493827, 147.32936979785964, 145.31807093263276, 143.3476792077375, 141.41709276844406, 139.52524661051302, 137.6711111111111, 135.853690627604, 134.07202216066483, 132.3251740783459, 130.61224489795916]

#* Forward (Input) Source Properties
lateral_aperture_um: 6.6000000000000005
src_maximum_vertical_um: 5.1
src_minimum_vertical_um: -5.625
mid_lambda_um: 0.8
gaussian_waist_radius_um: 1
source_angle_theta_rad: 0.0
source_angle_theta_deg: 0.0

#* Adjoint Source Properties
adjoint_vertical_um: -4.5
num_adjoint_sources: 4
adjoint_x_positions_um: [1.5, -1.5, -1.5, 1.5]
adjoint_y_positions_um: [1.5, 1.5, -1.5, -1.5]

#* Optimization Properties
total_iters: 90
epoch_range_design_change_max: 0.09999999999999999
epoch_range_design_change_min: 0.05
spectral_focal_plane_map: [[0, 15], [15, 30], [30, 45], [15, 30]]
desired_peak_location_per_band: [7, 22, 37]